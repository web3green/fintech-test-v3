<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Tag Manager -->
  <script>
    // Инициализация dataLayer до загрузки GTM
    window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({
      'gtm.start': new Date().getTime(),
      event: 'gtm.js'
    });
    
    // Отладочный код для Google Analytics
    window.ga_debug = {
      trace: true
    };
  </script>
  <script async src="https://www.googletagmanager.com/gtm.js?id=GTM-P8F79N5V"></script>
  <!-- End Google Tag Manager -->

  <!-- Yandex.Metrika counter -->
  <script>
    // Инициализация ym до загрузки скрипта Метрики
    window.ym = window.ym || function(){(window.ym.a = window.ym.a || []).push(arguments)};
    window.ym.l = 1*new Date();
    
    // Отладочный код для Яндекс.Метрики
    window.ym_debug = true;
    
    // Загрузка скрипта Метрики
    (function(d, w, c) {
      (w[c] = w[c] || []).push(function() {
        try {
          w.yaCounter87654321 = new Ya.Metrika2({
            id: 87654321,
            clickmap: true,
            trackLinks: true,
            accurateTrackBounce: true,
            webvisor: true,
            // Добавляем отладочные параметры
            debug: true,
            trackHash: true,
            ut: 'noindex'
          });
          
          // Логируем успешную инициализацию
          console.log('Yandex.Metrika initialized successfully');
        } catch(e) {
          console.error('Yandex.Metrika initialization error:', e);
        }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/tag.js";

      if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
  </script>
  <!-- /Yandex.Metrika counter -->

  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FinTechAssist - Personal Finance Management System</title>
  <meta name="description" content="Powerful financial tracking and management platform with advanced analysis and budgeting tools" />
  <meta name="author" content="FinTechAssist Team" />
  <meta name="keywords" content="personal finance, budget, investment, financial analysis, finance tracking, savings, money management" />
  <meta property="og:title" content="FinTechAssist - Personal Finance Management" />
  <meta property="og:description" content="Take control of your finances with our comprehensive tracking and management platform" />
  <meta property="og:image" content="/og-image.jpg" />
  <meta property="og:url" content="https://fintechassist.app" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="FinTechAssist - Personal Finance Management" />
  <meta name="twitter:description" content="Take control of your finances with our comprehensive tracking and management platform" />
  <meta name="twitter:image" content="/og-image.jpg" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

  {/* Preload key font files */}
  <link rel="preload" href="https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="https://fonts.gstatic.com/s/lexend/v24/wlptgwvFAVdoq2_F94zlCfv0bz1WC9wRzLdneoCrCEswgg.woff2" as="font" type="font/woff2" crossorigin>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123456789-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-123456789-1', {
      'send_page_view': true,
      'anonymize_ip': true,
      'debug_mode': true
    });
    
    // Логируем успешную инициализацию
    console.log('Google Analytics initialized successfully');
  </script>
  <!-- /Google Analytics -->
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P8F79N5V" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- Yandex.Metrika counter (noscript) -->
  <noscript>
    <div><img src="https://mc.yandex.ru/watch/87654321" style="position:absolute; left:-9999px;" alt="" /></div>
  </noscript>
  <!-- /Yandex.Metrika counter (noscript) -->

  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>
</html>
